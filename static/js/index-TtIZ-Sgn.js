import{_ as F,aU as L,q as M,a_ as P,r as i,c as d,o as s,d as c,b as n,u as t,ab as C,g as o,e as u,R as _,S,T as D,f,a4 as V,X as x,U as X,P as A}from"./index-BAcAJLKy.js";import{useSchedule as G}from"./hook-B1X4sF79.js";import{R as y}from"./index-DVLZs259.js";import"./form-HRHUj2oC.js";const H={class:"flex-bc flex-wrap w-full mb-4"},J={class:"flex flex-wrap items-center gap-2"},K={class:"flex-bc"},Q={class:"scheduling-content"},W={key:0},Y=["onDblclick","onClick"],Z={key:1,class:"m-4 flex-c flex-col gap-2 text-center text-[rgba(0,0,0,0.45)] dark:text-[rgba(255,255,255,0.45)]"},ee=Object.assign({name:"Schedule"},{__name:"index",setup(le){L.locale("zh-cn",{weekStart:1});const g=M(),{update:h}=P(),{date:r,legends:w,getScheduleTagStyle:I,getScheduleTagIcon:T,getScheduleTagIconColor:$,deviceDetection:R,getScheduling:v,selectDate:m,formatSchedule:j,onSchedulingClick:B,openDialog:N}=G(g);return(te,e)=>{const U=i("el-date-picker"),p=i("el-button"),z=i("el-button-group"),k=i("IconifyIconOnline"),b=i("el-scrollbar"),O=i("el-calendar");return s(),d("div",null,[c("div",H,[c("div",J,[n(U,{modelValue:t(r),"onUpdate:modelValue":e[0]||(e[0]=l=>C(r)?r.value=l:null),class:"!w-[160px]",type:"month",placeholder:"请选择日期",onClear:e[1]||(e[1]=l=>r.value=new Date)},null,8,["modelValue"]),n(z,null,{default:o(()=>[n(p,{onClick:e[2]||(e[2]=l=>t(m)("prev-month"))},{default:o(()=>e[7]||(e[7]=[u("上个月",-1)])),_:1,__:[7]}),n(p,{onClick:e[3]||(e[3]=l=>t(m)("today"))},{default:o(()=>e[8]||(e[8]=[u("今天",-1)])),_:1,__:[8]}),n(p,{onClick:e[4]||(e[4]=l=>t(m)("next-month"))},{default:o(()=>e[9]||(e[9]=[u("下个月",-1)])),_:1,__:[9]})]),_:1})]),c("div",{class:"flex items-center gap-2",style:_({marginTop:t(R)()?"6px":""})},[(s(!0),d(S,null,D(t(w),(l,a)=>(s(),d("div",{key:a,class:"flex items-center text-[18px] font-medium",style:_({color:l.color})},[(s(),f(V(l.icon),{class:"mr-1"})),c("span",null,x(l.text),1)],4))),128))],4)]),n(O,{ref_key:"calendarRef",ref:g,modelValue:t(r),"onUpdate:modelValue":e[6]||(e[6]=l=>C(r)?r.value=l:null)},{"date-cell":o(({data:l})=>[n(b,null,{default:o(()=>[c("div",{class:"calendar-scheduling",onClick:e[5]||(e[5]=X(()=>{},["stop"]))},[c("div",K,[n(t(y),{class:"calendar-day !text-[16px]"},{default:o(()=>[u(x(l.day.split("-").slice(1).join("-")),1)]),_:2},1024),l.type==="current-month"?(s(),f(p,{key:0,size:"small",circle:"",onClick:a=>t(N)("新增",{startDate:l.day,endDate:l.day})},{icon:o(()=>[n(k,{icon:"ri:add-large-line",color:"#8E9096"})]),_:2},1032,["onClick"])):A("",!0)]),c("div",Q,[n(b,null,{default:o(()=>[t(v)(l.day).length>0?(s(),d("div",W,[(s(!0),d(S,null,D(t(v)(l.day),(a,E)=>(s(),d("div",{key:E,onDblclick:q=>t(h)(t(j)(l.day,a)),onClick:q=>t(B)(l.type,a)},[c("div",{class:"scheduling-tag",style:_(t(I)(a.classes))},[(s(),f(V(t(T)(a.classes)),{class:"mr-1",style:_(t($)(a.classes))},null,8,["style"])),n(t(y),{class:"!w-full !text-inherit !text-[13px]"},{default:o(()=>[u(x(a.scheduling),1)]),_:2},1024)],4)],40,Y))),128))])):(s(),d("div",Z,[n(k,{icon:"ep:calendar"}),n(t(y),{class:"!text-inherit !text-[13px]"},{default:o(()=>e[10]||(e[10]=[u("暂无排班",-1)])),_:1,__:[10]})]))]),_:2},1024)])])]),_:2},1024)]),_:1},8,["modelValue"])])}}}),ce=F(ee,[["__scopeId","data-v-e54ca3a9"]]);export{ce as default};
